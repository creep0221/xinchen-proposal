@page
@using xinchen_web.Models;
@model xinchen_web.Pages.DocumentsModel
@{
    var allowCreateNew = true;
    if (ViewData["AllowCreateNew"] != null)
    {
        allowCreateNew = (bool)ViewData["AllowCreateNew"];
    }
    var hasProposal = ViewData["ProposalList"] != null;
    var proposalList = (List<Proposal>)ViewData["ProposalList"];
}

<form method="post">
<ul class="document-box">
    @if (!hasProposal)
    {
        <button>
            <img src="@Url.Content("~/images/clipboard.png")" alt="Button Icon">
            <span>建立第一本企畫書</span>
        </button>
    }
    else if (allowCreateNew)
    {
        <button>
            <img src="@Url.Content("~/images/clipboard.png")" alt="Button Icon">
            <span>建立企畫書</span>
        </button>
        <li></li>
    }

    @if(proposalList != null)
    {
        foreach (var proposal in proposalList)
        {
            <li>@proposal.Name</li>
        }
    }
    
</ul>
</form>